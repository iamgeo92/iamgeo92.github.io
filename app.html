<!DOCTYPE html>
<html>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css?family=Lato" /* rail */ rel="stylesheet">


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.7.6/handlebars.min.js"></script>

<link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,400;0,700;1,400;1,700&family=Lora:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">



<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" rel="stylesheet">




<!-- todo https://stackoverflow.com/questions/29285056/get-video-duration-when-input-a-video-file -->

<style>
* {
  box-sizing: border-box;
}

body {
  background-color: #F2F6F9;
}

#regForm {
  /*background-color: #ffffff;*/
  margin: 20px auto;
  font-family: Lato; /* rail */
  padding: 20px;
  width: 97%;
  max-width: 400px;
}

h1 {
  /*text-align: center;  */
}

.thetitle{
	font-family: Lato;
	font-style: normal;
	font-weight: 800;
	font-size: 30px;
	line-height: 30px;
	/* or 100% */

	display: flex;
	align-items: center;

	color: #00093E;
}


.qtitle{
	font-family: Lato;
	font-style: normal;
	font-weight: bold;
	font-size: 24px;
	line-height: 33px;
	/* or 137% */

	text-align: center;

	color: #2E2E2E;
}

.whitebox{
	background: #FFFFFF;
	border: 1px solid #FBFCFD;
	box-sizing: border-box;
	box-shadow: 2px 11px 19px #E0F1FF, 6px 4px 4px rgba(224, 241, 255, 0.3);
	border-radius: 20px;

	padding: 20px;
}


.pinkbutton{
	background: #B933F9;
	border-radius: 60px;

	box-shadow: 0px 2.76726px 2.21381px rgba(147, 120, 255, 0.0196802), 0px 6.6501px 5.32008px rgba(147, 120, 255, 0.0282725), 0px 12.5216px 10.0172px rgba(147, 120, 255, 0.035), 0px 22.3363px 17.869px rgba(147, 120, 255, 0.0417275), 0px 41.7776px 33.4221px rgba(147, 120, 255, 0.0503198), 0px 100px 80px rgba(147, 120, 255, 0.07);

	font-family: Lato;
	font-style: normal;
	font-weight: normal;
	font-size: 16px;
	line-height: 22px;
	display: flex;
	align-items: center;
	text-align: center;

	color: #FFFFFF;


}


.bluebutton{
	background: #32B9F3;
	border-radius: 60px;

	box-shadow: 0px 2.76726px 2.21381px rgba(147, 120, 255, 0.0196802), 0px 6.6501px 5.32008px rgba(147, 120, 255, 0.0282725), 0px 12.5216px 10.0172px rgba(147, 120, 255, 0.035), 0px 22.3363px 17.869px rgba(147, 120, 255, 0.0417275), 0px 41.7776px 33.4221px rgba(147, 120, 255, 0.0503198), 0px 100px 80px rgba(147, 120, 255, 0.07);

	font-family: Lato;
	font-style: normal;
	font-weight: normal;
	font-size: 16px;
	line-height: 22px;
	

	color: #FFFFFF;
  width: 150px;


}

 



input {
  padding: 10px;
  width: 100%;
  font-size: 17px;
  font-family: Lato; /* rail */
  border: 1px solid #aaaaaa;
}

/* Mark input boxes that gets an error on validation: */
input.invalid {
  background-color: #ffdddd;
}


textarea {
  padding: 10px;
  width: 100%;
  font-size: 17px;
  font-family: Lato; /* rail */
  border: 1px solid #aaaaaa;
}

/* Mark input boxes that gets an error on validation: */
textarea.invalid {
  background-color: #ffdddd;
}


.record_button{
	border: none;
}

.record_button::-webkit-file-upload-button {
  visibility: hidden;
}
.record_button::before {
  content: 'Record a Video of \A Your Teeth';
  display: inline-block;

  background-color: #4CAF50;
  color: #ffffff;
  border: none;
  padding: 10px 20px;
  font-size: 17px;
  font-family: Lato; /* rail */
  cursor: pointer;



  background: #B933F9;
	border-radius: 60px;

/*	box-shadow: 0px 2.76726px 2.21381px rgba(147, 120, 255, 0.0196802), 0px 6.6501px 5.32008px rgba(147, 120, 255, 0.0282725), 0px 12.5216px 10.0172px rgba(147, 120, 255, 0.035), 0px 22.3363px 17.869px rgba(147, 120, 255, 0.0417275), 0px 41.7776px 33.4221px rgba(147, 120, 255, 0.0503198), 0px 100px 80px rgba(147, 120, 255, 0.07);*/

	font-family: Lato;
	font-style: normal;
	font-weight: normal;
	font-size: 16px;
	line-height: 22px;
	/*display: flex;*/
	align-items: center;
	text-align: center;

	color: #FFFFFF;

  /*background-color: white;*/




  outline: none;
  white-space: nowrap;
  -webkit-user-select: none;
  cursor: pointer;

  margin-bottom: -400px;



  }


/* Hide all steps by default: */
.tab {
  display: none;
}

button {
  background-color: #4CAF50;
  color: #ffffff;
  border: none;
  padding: 10px 20px;
  font-size: 17px;
  font-family: Lato; /* rail */
  cursor: pointer;
}

button:hover {
  opacity: 0.8;
}

#prevBtn {
  /*background-color: #bbbbbb;*/
}

/* Make circles that indicate the steps of the form: */
.step {
  height: 15px;
  width: 15px;
  margin: 0 2px;
  background-color: #bbbbbb;
  border: none;  
  border-radius: 50%;
  display: inline-block;
  opacity: 0.5;
}

.step.active {
  opacity: 1;
}

/* Mark the steps that are finished and valid: */
.step.finish {
  background-color: #4CAF50;
}




/*the css for the fance check boxxxx*/


.inputGroup {
   background-color: #efecec;
   display: block;
   margin: 10px 0;
   position: relative;
}
 .inputGroup label {
   padding: 12px 30px;
   width: 100%;
   display: block;
   text-align: left;
   color: #3c454c;
   cursor: pointer;
   position: relative;
   z-index: 2;
   transition: color 200ms ease-in;
   overflow: hidden;
}
 .inputGroup label:before {
   width: 20px;
   height: 10px;
   border-radius: 50%;
   content: '';
   background-color: #4CAF50;
   position: absolute;
   left: 50%;
   top: 50%;
   transform: translate(-50%, -50%) scale3d(1, 1, 1);
   transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1);
   opacity: 0;
   z-index: -1;
}
 .inputGroup label:after {
   width: 22px;
   height:22px;
   content: '';
   border: 2px solid #d1d7dc;
   background-color: #fff;
   /*background-image: url("data:image/svg+xml,%3Csvg width='32' height='32' viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M5.414 11L4 12.414l5.414 5.414L20.828 6.414 19.414 5l-10 10z' fill='%23fff' fill-rule='nonzero'/%3E%3C/svg%3E ");*/
   background-repeat: no-repeat;
   background-position: 2px 3px;
   border-radius: 50%;
   z-index: 2;
   position: absolute;
   right: 30px;
   top: 50%;
   transform: translateY(-50%);
   cursor: pointer;
   transition: all 200ms ease-in;
}
 .inputGroup input:checked ~ label {
   color: #fff;
}
 .inputGroup input:checked ~ label:before {
   transform: translate(-50%, -50%) scale3d(56, 56, 1);
   opacity: 1;
}
 .inputGroup input:checked ~ label:after {
   background-color: #4CAF50;
   border-color: #4CAF50;
}
 .inputGroup input {
   width: 32px;
   height: 32px;
   order: 1;
   z-index: 2;
   position: absolute;
   right: 30px;
   top: 50%;
   transform: translateY(-50%);
   cursor: pointer;
   visibility: hidden;
}
 .form {
   padding: 0 16px;
   max-width: 550px;
   margin: 50px auto;
   font-size: 18px;
   font-weight: 600;
   line-height: 36px;
}
 













</style>
<body>






<script id="handlebars-demo" type="text/x-handlebars-template">




	{{#each questions}}

	<div class="tab" onlyif="{{this.onlyif}}">


	  <h1 class="thetitle" >Answer a Few <br> Questions</h1>
	  <br> <br>

	    <div class="whitebox" style="  padding: 20px; margin-bottom: 30px; ">

	    	<br>  

	      <h3 for="{{this.id}}" class="qtitle">{{this.question}}</h3>

	       <br>  


	       {{#if this.multi_option}}

		      {{#each this.options}}
		      <div class="inputGroup">
		          <input oninput='ques_change(this.id)' id="{{../this.id}}___{{this.id}}" name="{{../this.id}}___{{this.id}}" type="checkbox"/>
		          <label for="{{../this.id}}___{{this.id}}">{{this.text}}</label>
		        </div>
		      {{/each}}

	        {{/if}}


	        {{#if this.single_option}}

	         
	          {{#each this.options}}
      		          <div class="inputGroup">
      					    <input oninput='ques_change(this.id)' id="{{../this.id}}___{{this.id}}" name="{{../this.id}}" type="radio"/>
      					    <label for="{{../this.id}}___{{this.id}}">
      					    	{{this.text}}
      					    </label>
      				 </div>

      			    
      		    {{/each}}
		   

	         
	        {{/if}}






          {{#if this.text_option}}

           
            <input placeholder=""   name="tb_{{this.id}}">
       

           
          {{/if}}





	        
	       
	      <br>  <br>  

	    </div>

	    <br>  

	    <div style="overflow:auto;">
		    <div style="float:left;">
		      <button type="button" class="bluebutton"  id="prevBtn" onclick="nextPrev(-1)">Previous</button>
		    </div>
        <div style="float:right;">
          <button type="button" class="bluebutton"  id="nextBtn" onclick="nextPrev(1)">Next</button>
        </div>
		 </div>



	</div>

	{{/each}}




</script>










<script type="text/javascript">
  
  var isMobile = false; //initiate as false
// device detection
if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent) 
    || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4))) { 
    isMobile = true;
}


if(isMobile){

}
else{
  // alert("Please open this webapp on a mobile device. ");
  // window.location.href = "https://dentalsmarts.co";

}




// data = {questions : [

//   {
//     "question" : "In which of these areas do you have pain?" ,
//     "id" : "ques1" ,
//     "multi_option":"True" , 
//     "onlyif" : "" , 
//     "options" : [
//       { "id": "op_1" , "text": "Option 1 "  } , 
//       { "id": "op_2" , "text": "Option 2 "  } , 
//        { "id": "op_3" , "text": "Option 3 "  } ,
//     ]
//   } , 



//   {
//     "question" : "Sample question 2 " ,
//     "id" : "ques2" ,
//     "single_option":"True" , 
//     "onlyif" : "ques1.op_2" , 
//     "options" : [
//       { "id": "op_1" , "text": "Option 222 1 "  } , 
//       { "id": "op_2" , "text": "Option 22 2 "  } , 
//       { "id": "op_3" , "text": "Option  333 3 "  } ,
//     ]
//   } , 

// ]}





data = {questions : 


[{
    "text_option": true,
    "onlyif": "",
    "question": "Patient name",
    "id": "ques0",
    "options": []
}, {
    "text_option": true,
    "onlyif": "",
    "question": "Age",
    "id": "ques1",
    "options": []
}, {
    "onlyif": "",
    "options": [{
        "text": "Female",
        "id": "op_0"
    }, {
        "text": "Male",
        "id": "op_1"
    
    }],
    "question": "Gender",
    "single_option": true,
    "id": "ques2"
}, {
    "onlyif": "",
    "options": [{
        "text": "Pain in the teeth / jaw ",
        "id": "op_0"
    }, {
        "text": "Swelling",
        "id": "op_1"
    }, {
        "text": "Gum issues",
        "id": "op_2"
    }, {
        "text": "Yellow deposits on teeth / Discoloring",
        "id": "op_3"
    }, {
        "text": "Trauma",
        "id": "op_4"
    }, {
        "text": "Dry mouth / Bad breath",
        "id": "op_5"
    }, {
        "text": "Lesion",
        "id": "op_6"
    },
    {
        "text": "None of the above",
        "id": "op_7"
    } , 
    {
        "text": "Other",
        "id": "op_8"
    }  ],
    "question": "Select the conditions that apply to you.",
    "multi_option": true,
    "id": "ques3"
}, 


{
    "text_option": true,
    "onlyif": "ques3.op_8",
    "question": "Describe the condition you are experiencing.",
    "id": "ques565",
    "options": []
}, 

{
    "text_option": true,
    "onlyif": "ques3.op_0",
    "question": " What is the level of the pain (on a scale of 1-10)?",
    "id": "ques4",
    "options": []
}, {
    "onlyif": "ques3.op_0",
    "options": [{
        "text": "Intermittent (on and off) pain",
        "id": "op_0"
    }, {
        "text": "Sharp tooth sensitivity",
        "id": "op_1"
    }, {
        "text": "Continuous toothache",
        "id": "op_2"
    }, {
        "text": "Extreme throbbing pain",
        "id": "op_3"
    }, {
        "text": "Pain present only while eating",
        "id": "op_4"
    }, {
        "text": "Pain at back of the jaw",
        "id": "op_5"
    }],
    "question": " Select the type of pain that you are experiencing.",
    "single_option": true,
    "id": "ques5"
}, {
    "text_option": true,
    "onlyif": "ques3.op_0",
    "question": " How long does the pain last?",
    "id": "ques14",
    "options": []
},{
    "onlyif": "ques3.op_0",
    "options": [{
        "text": "There is a clicking/popping sensation in the jaw joint",
        "id": "op_0"
    }, {
        "text": "You tend to clench and grind your teeth",
        "id": "op_1"
    }, {
        "text": "You have a limited capability to open your jaw",
        "id": "op_2"
		
	}, {
        "text": "None of the these apply to me",
        "id": "op_3"
    }],
		
    "question": " Select all that apply.",
    "single_option": true,
    "id": "ques6"
}, {
    "onlyif": "ques3.op_0",
    "options": [{
        "text": "Yes",
        "id": "op_0"
    }, {
        "text": "No",
        "id": "op_1"
    }],
    "question": " Do you wake up at night due to pain? ",
    "single_option": true,
    "id": "ques7"
}, {
    "text_option": true,
    "onlyif": "ques3.op_0",
    "question": " How long have you had this pain?",
    "id": "ques8",
    "options": []
}, {
    "onlyif": "ques3.op_0",
    "options": [{
        "text": "Yes",
        "id": "op_0"
    }, {
        "text": "No",
        "id": "op_1"
    }],
    "question": " Have you had any trauma (injury) to this area?",
    "single_option": true,
    "id": "ques9"
}, {

"onlyif": "ques3.op_0",
    "options": [{
        "text": "Yes",
        "id": "op_0"
    }, {
        "text": "No",
        "id": "op_1"
		}],
    "question": " Do you see any teeth missing?",
    "single_option": true,
    "id": "ques10"
}, {		

    "onlyif": "ques3.op_0",
    "options": [{
        "text": "Yes",
        "id": "op_0"
    }, {
        "text": "No",
        "id": "op_1"
    }],
    "question": " Are your ears ringing?",
    "single_option": true,
    "id": "ques11"
}, {
    "onlyif": "ques3.op_0",
    "options": [{
        "text": "Yes",
        "id": "op_0"
    }, {
        "text": "No",
        "id": "op_1"
    }],
    "question": " Do you have a fever?",
    "single_option": true,
    "id": "ques12"
}, {
    "text_option": true,
    "onlyif": "ques3.op_1",
    "question": " Since when do you have the swelling?",
    "id": "ques13",
    "options": []
}, {
    "onlyif": "ques3.op_1",
    "options": [{
        "text": "a) Upper jaw",
        "id": "op_0"
    }, {
        "text": "b) Lower jaw",
        "id": "op_1"
    }, {
        "text": "c) Cheek/face",
        "id": "op_2"
    }, {
        "text": "d) Under the tongue",
        "id": "op_3"
    }],
    "question": " Please specify the location of the swelling.",
    "single_option": true,
    "id": "ques15"
},{
    "onlyif": "ques3.op_1",
    "options": [{
        "text": "Inside the mouth",
        "id": "op_0"
    }, {
        "text": "Outside the mouth",
        "id": "op_1"
    }],
    "question": " Is the swelling inside or outside the mouth?",
    "single_option": true,
    "id": "ques16"
}, {
    "onlyif": "ques3.op_1",
    "options": [{
        "text": "Yes",
        "id": "op_0"
    }, {
        "text": "No",
        "id": "op_1"
    }],
    "question": " Is there visible discharge or bad taste associated with the swelling?",
    "single_option": true,
    "id": "ques17"
}, {
    "onlyif": "ques3.op_1",
    "options": [{
        "text": "Hot",
        "id": "op_0"
    }, {
        "text": "Cold",
        "id": "op_1"
    }, {
        "text": "Neither hot nor cold",
        "id": "op_2"
    }],
    "question": " Is the swelling hot or cold?",
	"single_option": true,
    "id": "ques18"
}, {
        "onlyif": "ques3.op_1",
    "options": [{
        "text": "Eating",
        "id": "op_0"
    }, {
        "text": "Swallowing",
        "id": "op_1"
    }, {
        "text": "Breathing",
        "id": "op_2"
    }, {
        "text": "I don't feel any obstruction while eating, swallowing or breathing.",
        "id": "op_3"
    }],
    "question": "  Please select the activities during which you feel any obstruction",
    "single_option": true,
    "id": "ques20"
}, {
    "onlyif": "ques3.op_2",
    "options": [{
        "text": "Yes",
        "id": "op_0"
    }, {
        "text": "No",
        "id": "op_1"
    }],
    "question": " Are your gums bleeding?",
    "single_option": true,
    "id": "ques21"
}, {
    "onlyif": "ques3.op_2",
    "options": [{
        "text": "Yes",
        "id": "op_0"
    }, {
        "text": "No",
        "id": "op_1"
    }],
    "question": " Are you experiencing pain in your gums?",
    "single_option": true,
    "id": "ques22"
}, {
    "onlyif": "ques3.op_2",
    "options": [{
        "text": "Yes",
        "id": "op_0"
    }, {
        "text": "No",
        "id": "op_1"
    }],
    "question": " Are your gums swelling?",
    "single_option": true,
    "id": "ques23"
}, {
    "onlyif": "ques3.op_2",
    "options": [{
        "text": "Yes",
        "id": "op_0"
    }, {
        "text": "No",
        "id": "op_1"
    }],
    "question": " Is there a visible discharge or bad taste from your gums or around the teeth? ",
    "single_option": true,
    "id": "ques24"
}, {
    "onlyif": "ques3.op_2",
    "options": [{
        "text": "Generalized",
        "id": "op_0"
    }, {
        "text": "Localized",
        "id": "op_1"
    }],
    "question": " Is the issue generalized or localized (only refers to a particular area)?",
    "single_option": true,
    "id": "ques25"
}, {
    "onlyif": "ques3.op_2",
    "options": [{
        "text": "Yes",
        "id": "op_0"
    }, {
        "text": "No",
        "id": "op_1"
    }],
    "question": " Does it hurt to touch your gums?",
    "single_option": true,
    "id": "ques26"
}, {
    "onlyif": "ques3.op_2",
    "options": [{
        "text": "Yes, they are pink",
        "id": "op_0"
    }, {
        "text": "Yes, they are more red",
        "id": "op_1"
    }, {
        "text": "Yes, they are white",
        "id": "op_2"
    }, {
        "text": "Yes, they are purple",
        "id": "op_3"
    },{
        "text": "No, they have not changed color",
        "id": "op_3"
    }],
    "question": "Have your gums changed in color?",
    "single_option": true,
    "id": "ques28"
}, {
    "onlyif": "ques3.op_2",
    "options": [{
        "text": "Yes",
        "id": "op_0"
    }, {
        "text": "No",
        "id": "op_1"
    }],
    "question": " Do you have receding gums?",
    "single_option": true,
    "id": "ques29"
}, {
    "onlyif": "ques3.op_3",
    "options": [{
        "text": "Yellow deposits",
        "id": "op_0"
    }, {
        "text": "Colored teeth",
        "id": "op_1"
    }],
    "question": "Do you complain of yellow deposits or colored teeth?",
    "single_option": true,
    "id": "ques30"
}, {
    "onlyif": "ques3.op_4",
    "options": [{
        "text": "Yes",
        "id": "op_0"
    }, {
        "text": "No",
        "id": "op_1"
    }],
    "question": "Did you suffer from any kind of trauma to your teeth or jaw?",
    "single_option": true,
    "id": "ques31"
}, {
    "text_option": true,
    "onlyif": "ques31.op_0",
    "question": " What kind of trauma? Please explain.",
    "id": "ques32",
    "options": []
}, {
    "onlyif": "ques3.op_5",
    "options": [{
        "text": "dry mouth",
        "id": "op_0"
    }, {
        "text": "bad breath",
        "id": "op_1"
    }],
    "question": "Do you complain of dry mouth or bad breath?",
    "single_option": true,
    "id": "ques34"
}, {
    "onlyif": "ques3.op_6",
    "options": [{
        "text": "Lip",
        "id": "op_0"
    }, {
        "text": "Cheek",
        "id": "op_1"
    }, {
        "text": "Tongue",
        "id": "op_2"
    }, {
        "text": "Roof of the mouth",
        "id": "op_3"
    }, {
        "text": "Floor of the mouth (under the tongue)",
        "id": "op_4"
    }, {
        "text": "Back of the throat",
        "id": "op_5"
    }, {
        "text": "Gums",
        "id": "op_6"
    }],
    "question": " Which area is the lesion apparent?",
    "single_option": true,
    "id": "ques36"
}, {
    "onlyif": "ques3.op_6",
    "options": [{
        "text": "Yes",
        "id": "op_0"
    }, {
        "text": "No",
        "id": "op_1"
    }],
    "question": "Is there any trauma to the area? ",
    "single_option": true,
    "id": "ques37"
}, {
    "onlyif": "ques3.op_6",
    "options": [{
        "text": "Pain",
        "id": "op_0"
    }, {
        "text": "Swelling",
        "id": "op_1"
    }, {
        "text": "Bleeding",
        "id": "op_2"
    }, {
        "text": "Pus discharge",
        "id": "op_3"
    },{
        "text": "None of the above",
        "id": "op_4"
    }],
    "question": "Is there any pain, swelling, bleeding from the area or pus discharge?",
    "single_option": true,
    "id": "ques38"
}, {
    "onlyif": "ques3.op_6",
    "options": [{
        "text": "Yes",
        "id": "op_0"
    }, {
        "text": "No",
        "id": "op_1"
    }],
    "question": "  Is area discolored?",
    "single_option": true,
    "id": "ques39"
}, {
    "text_option": true,
    "onlyif": "ques3.op_6",
    "question": "  How long has it been there? ",
    "id": "ques40",
    "options": []
}, {
    "onlyif": "ques3.op_6",
    "options": [{
        "text": "Yes",
        "id": "op_0"
    }, {
        "text": "No",
        "id": "op_1"
    }],
    "question": "  Any noticeable changes to the size, shape or color of the lesion? ",
    "single_option": true,
    "id": "ques41"
}, {
    "onlyif": "",
    "options": [{
        "text": "Yes",
        "id": "op_0"
    }, {
        "text": "No",
        "id": "op_1"
    }],
    "question": "Have you had any illnesses in the past?",
    "single_option": true,
    "id": "ques42"
}, {
    "text_option": true,
    "onlyif": "ques42.op_0",
    "question": " Please specify the illness and the duration.",
    "id": "ques43",
    "options": []
}, {
    "onlyif": "ques2.op_0",
    "options": [{
        "text": "Yes",
        "id": "op_0"
    }, {
        "text": "No",
        "id": "op_1"
    }],
    "question": " Are you pregnant",
    "single_option": true,
    "id": "ques44"
}, {
    "text_option": true,
    "onlyif": "ques44.op_0",
    "question": " what term are you in?",
    "id": "ques45",
    "options": []
}, {
    "onlyif": "",
    "options": [{
        "text": "Yes",
        "id": "op_0"
    }, {
        "text": "No",
        "id": "op_1"
    }],
    "question": "Are you taking any medication regularly?",
    "single_option": true,
    "id": "ques46"
}, {
    "text_option": true,
    "onlyif": "ques46.op_0",
    "question": "How long have you been taking the medication for?",
    "id": "ques47",
    "options": []
}, {
    "onlyif": "",
    "options": [{
        "text": "Yes",
        "id": "op_0"
    }, {
        "text": "No",
        "id": "op_1"
    }],
    "question": "Have you undergone any kind of surgery within the past a year?",
    "single_option": true,
    "id": "ques48"
}, {
    "text_option": true,
    "onlyif": "ques48.op_0",
    "question": "What was the surgery for?",
    "id": "ques49",
    "options": []
}, {
    "onlyif": "ques2.op_0",
    "options": [{
        "text": "Yes",
        "id": "op_0"
    }, {
        "text": "No",
        "id": "op_1"
    }],
    "question": " Are your menstrual cycles regular or not?",
    "single_option": true,
    "id": "ques50"
}, {
    "onlyif": "",
    "single_option": true,
    "question": "Do you have any known allergies?",
    "id": "ques51",
    "options": [{
        "text": "Yes",
        "id": "op_0"
    }, {
        "text": "No",
        "id": "op_1"
    }]
}, {
    "text_option": true,
    "onlyif": "ques51.op_0",
    "question": "Please list out the allergies?",
    "id": "ques499",
    "options": []
},
{
    "onlyif": "",
    "single_option": true,
    "question": "Have you previously had any dental procedures done?",
    "id": "ques511",
    "options": [{
        "text": "Yes",
        "id": "op_0"
    }, {
        "text": "No",
        "id": "op_1"
    }]
},
{
    "text_option": true,
    "onlyif": "ques511.op_0",
    "question": "What was the procedure and when did it occur?",
    "id": "ques52",
    "options": []
},  {
    "onlyif": "",
    "options": [{
        "text": "Twice of more a day",
        "id": "op_0"
    }, {
        "text": "Once a day,",
        "id": "op_1"
    }, {
        "text": "Not every day",
        "id": "op_3"
    }],
    "question": "How often do you brush your teeth?",
    "single_option": true,
    "id": "ques54"
},  {
    "onlyif": "",
    "options": [{
        "text": "Yes",
        "id": "op_0"
    }, {
        "text": "No",
        "id": "op_1"
    }],
    "question": "Do you floss? ",
    "single_option": true,
    "id": "ques56"
}, {
    "onlyif": "",
    "options": [{
        "text": "Daily",
        "id": "op_0"
    }, {
        "text": "Atleast once a week,",
        "id": "op_1"
    }, {
        "text": "I don't floss",
        "id": "op_2"
    }],
    "question": "How frequently do you floss?",
    "single_option": true,
    "id": "ques57"
},  {
    "onlyif": "",
    "options": [{
        "text": "Yes",
        "id": "op_0"
    }, {
        "text": "No",
        "id": "op_1"
    }],
    "question": "Do you smoke or use smokeless tobacco?",
    "single_option": true,
    "id": "ques60"
}, {
    "onlyif": "",
    "options": [{
        "text": "Every three months or even more frequently",
        "id": "op_0"
    }, {
        "text": "Every six months",
        "id": "op_1"
    }, {
        "text": "Annualy",
        "id": "op_2"
    }, {
        "text": "Less frequently than once a year",
        "id": "op_4"
    }],
    "question": "How often do you visit a dentist?",
    "single_option": true,
    "id": "ques61"
}]

}




responses = { } ;





function ques_change( id )
{
   questions  = data.questions ;

   log_str += "question change " + id + "<br> " ; 



    for( var i=0 ; i< questions.length ; i++ )
    {
        var qid = questions[i].id; 
        responses[qid] = {};

        for( var j=0 ; j< questions[i]['options'].length ; j++ )
        {
          var oid = questions[i]['options'][j]['id'];
          // alert(qid + "___" + oid );
          responses[qid][oid] = document.getElementById( qid + "___" + oid ).checked ;
        }

    }


}



var template = $('#handlebars-demo').html();

// Compile the template data into a function
var templateScript = Handlebars.compile(template);

// html = 'My name is Ritesh Kumar. I am a developer.'
var q_html = templateScript(data);



function open_record(){
  $("#video_inp").click();
}

</script>





<img id="loadig_gif" width="50" height="50"  style="display:none ; position:fixed;  top: 350px; left: 0; margin-left: auto; margin-right: auto; right: 0; border: 0;" src="data:image/gif;base64,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"/>





<form id="regForm" action="/">
 

      <!-- One "tab" for each step in the form: -->
  <div class="tab">


	    <h1 class="thetitle">Welcome to  Dental Smarts!</h1>

	    <br> 
	    <div class="whitebox">
	    	<img src="h2.svg" width="100%">
	    </div>

	    <br>   

	    <div class="whitebox"> 
	    	  
	    	  <img src="h1.svg" width="100%">

	    	 <div style="   padding: 20px; ">
	    	<center>
	    		<button type="button" class="pinkbutton" id="nextBtnd" onclick="nextPrev(1)">Click Here to Get a Dental Report Card</button>
	    	</center>
	    </div>


	    </div>


   


  </div>






<script type="text/javascript">
  document.write(q_html)
</script>





  <div class="tab">

    <h1 class="thetitle" >Record Video</h1>


    <br> 
    <div class="whitebox">
    	<img src="h3.svg" width="100%">
    </div>

    <br>   

    <div class="whitebox"> 
    	  
    	 <b> Here's a tutorial showing you how to take a good video </b>

    	 <br><br>

    	 <iframe width="100%"   src="https://www.youtube.com/embed/TCzEk-Wv8R0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>



    	 <div style="   padding: 20px; ">
		    		

          <center>

            <div style="display: none;">
    		      <input id="video_inp" class="record_button"  oninput="this.className = ''"  name="video" type="file" accept="video/*" capture>
    		      <br>
            </div>

            <button type="button" class="pinkbutton"   onclick="open_record()">Record a Video of  Your Teeth</button>

            <br>

            <button type="button"  class="bluebutton"  id="prevBtn" onclick="nextPrev(-1)">Go back</button>
          </center>



		      <script type="text/javascript">
		        

		        document.getElementById('video_inp').onchange = setFileInfo;

            vid_b64_glob = "";

		        function setFileInfo(){






		          if( document.getElementById('video_inp').files[0].size > 25700240 )
		          {
		              alert( "Video too large. Please ensure the video is less than 30 seconds.");
		              document.getElementById('video_inp').value = '';
		          }
		          else{


                  var file = document.querySelector('input[type=file]').files[0];
                  var reader = new FileReader();

                  reader.addEventListener("load", function () {
                    // convert image file to base64 string
                   vid_b64_glob = ( reader.result) ;
                  }, false);

                  if (file) {
                    reader.readAsDataURL(file);
                  }


		            // alert("all good");
		            nextPrev(1);
		          }



		        }




		      </script>




     </div>




  </div>
</div>



<!--   <div class="tab">

    <h1 class="thetitle" >Record Video</h1>



        <br> <br>

        <div style="overflow:auto;">
		    <div style="float:right;">
		      <button type="button" id="prevBtn" onclick="nextPrev(-1)">Previous</button>
		      <button type="button" id="nextBtn" onclick="nextPrev(1)">Next</button>
		    </div>
		 </div>



  </div>

 -->









  <div class="tab" noimp="true">

    <h1 class="thetitle" >Do You Have Any Other Queries/Concerns?</h1>
    <br><br>
    <div class="whitebox">

	    <b> Let us know if there is anything else regarding your oral health that we can help with. </b>

	    <br><br>

	    <p><input placeholder="Title" oninput="this.className = ''" name="msg_title"></p>

	    <textarea   name="message" rows="10" id="msg_content" placeholder="Your Message"></textarea>
	    
	    
	</div>

	<br> <br>
	<div style="overflow:auto;">
		    <div style="float:left;">
		      <button type="button" class="bluebutton" id="prevBtn" onclick="nextPrev(-1)">Previous</button>
		    </div>
        <div style="float:right;">
          <button type="button" class="bluebutton" id="nextBtn" onclick="nextPrev(1)">Next</button>
        </div>
		 </div>




  </div>







    <!-- One "tab" for each step in the form: -->
  <div class="tab">


    <h1 class="thetitle">User Terms of Service – Dental Smarts</h1>
    <br> <br>
  
    <div class="whitebox">

      <b> Please read and agree to the terms of service below. </b>

      <br> <br>

       <textarea   name="message" rows="10" readonly >
         
1. Our dentists can only provide a provisional diagnosis – a diagnosis that lacks 100% certainty due to a lack of information. Additionally, an image consult may help identify certain issues, but not all issues. For a complete/final diagnosis, please schedule an in-person appointment with your dentist. Our app does not serve as a substitute for professional dental advice, diagnosis, or treatment. It is intended to motivate users to take better care of their oral health and visit their dentist more frequently.
2. Neither Dental Smarts nor the Dentists on the Dental Smarts app who provide the provisional diagnosis are held liable for any inexact information provided. Due to the lack of information that we can gather from a video of the mouth, we cannot provide a complete/final diagnosis. Visit your dentist for a complete diagnosis.
3. The video of your teeth, questionnaire responses and dental report cards will be stored on the Dental Smarts server for research and development purposes. This information will remain confidential and will not be shared with any 3rd party. This data is accessible to the user as long as their account is active. This data will be used to develop and train artificial intelligence models that can identify dental problems based on images of teeth and questionnaire responses.
4. We respect your privacy and will not share your information with any 3rd party. Any basic user information that is provided while creating the user profile, such as name, age, etc., will be kept private in our database, with the most stringent oversight and will not be shared with any 3rd party. We put into place stringent measures to prevent data breaches on our app, however we don’t assume any liability should a data breach happen on our platform.
5. We use 3rd party services to maintain our infrastructure. We don't hold any liability, should any of our 3rd party services have data breaches.
6. You agree to send us a video of ONLY your teeth. Inappropriate, unlawful, or videos that represent any of the descriptions noted below are strictly prohibited. You are not allowed to submit videos that contain expressions of hate, abuse, offensive images or conduct, obscenity, pornography, sexually explicit or any material that could give rise to any civil or criminal liability under applicable law or regulations.

       </textarea>


    </div>


    <div style="overflow:auto;">
        <div style=" ">
          
          <center>
            <br>
          <button type="button" class="pinkbutton"   id="nextBtn" onclick="nextPrev(1)">I Agree</button>

          <br>

          <button type="button"  class="bluebutton"  id="prevBtn" onclick="nextPrev(-1)">Go back</button>
          </center>

        </div>
     </div>





  </div>









    <!-- One "tab" for each step in the form: -->
  <div class="tab">


    <h1 class="thetitle">We'll Email Your Dental  Report Card in 24 Hours</h1>
    <br> <br>
  
    <div class="whitebox">

    	<b> Enter your Details:</b>

    	<br> <br>

	    Name:

	     


	    <p><input placeholder="Name" oninput="this.className = ''" name="fname"></p>

	    Email:
	    <p><input placeholder="Email" oninput="this.className = ''" name="emaill"></p>
	    
	    
	    Phone Number:
	    <p><input placeholder="Phone Number" oninput="this.className = ''" name="phonee"></p>


	<!--    <label for="male">I have read and agree to the terms of service.</label><input type="radio" id="radio_accept"  oninput="this.className = ''"  name="do_accept" value="radio_accept"> -->




    </div>


    <div style="overflow:auto;">
		    <div style=" ">
		      
		      <center>
		      	<br>
		      <button type="button" class="pinkbutton"   id="nextBtn" onclick="submit_data()">Submit Image Review Request</button>

		      <br>

		      <button type="button"  class="bluebutton"  id="prevBtn" onclick="nextPrev(-1)">Go back</button>
		      </center>

		    </div>
		 </div>





  </div>







  <!-- Circles which indicates the steps of the form: -->
<!--   <div style="text-align:center;margin-top:40px;">
    <span class="step"></span>
    <span class="step"></span>
    <span class="step"></span>
    <span class="step"></span>
    <span class="step"></span>
    <span class="step"></span>
     <span class="step"></span>


  </div> -->
</form>




<form action="https://website-video-uploads.s3.amazonaws.com" style="display: none" id="s3form" method="post" enctype="multipart/form-data">
     
     <input type="hidden" name="acl" value="public-read">
    <input type="hidden" name="Content-Type" value="text/html">
    <input type="hidden" name="x-amz-credential" value="AKIAYJWXYJ5WUC2DYIGJ/20201228/us-east-2/s3/aws4_request">
    <input type="hidden" name="x-amz-algorithm" value="AWS4-HMAC-SHA256">
    <input type="hidden" name="x-amz-date" value="20201228T000000Z">
<!--    <input type="hidden" name="$success_action_redirect" value="https://example.com">-->
    <input type="hidden" name="success_action_status" value="201">

    <input type="hidden" name="x-amz-meta-data1" value="some meta value">
    <input type="hidden" name="x-amz-meta-data2" value="some other meta value">
    <input type="hidden" name="x-amz-meta-data3" value="one more">

    <input type="hidden" name="Policy" value="eyJleHBpcmF0aW9uIjoiMjAyMS0xMi0yM1QyMDoxMDowNy42MDdaIiwiY29uZGl0aW9ucyI6W3siYnVja2V0Ijoid2Vic2l0ZS12aWRlby11cGxvYWRzIn0sWyJzdGFydHMtd2l0aCIsIiRrZXkiLCJ1cGxvYWRzLyJdLHsiYWNsIjoicHVibGljLXJlYWQifSxbInN0YXJ0cy13aXRoIiwiJENvbnRlbnQtVHlwZSIsInRleHQvaHRtbCJdLFsic3RhcnRzLXdpdGgiLCIkc3VjY2Vzc19hY3Rpb25fc3RhdHVzIiwiIl0sWyJzdGFydHMtd2l0aCIsIiR4LWFtei1tZXRhLWRhdGExIiwiIl0sWyJzdGFydHMtd2l0aCIsIiR4LWFtei1tZXRhLWRhdGEyIiwiIl0sWyJzdGFydHMtd2l0aCIsIiR4LWFtei1tZXRhLWRhdGEzIiwiIl0seyJ4LWFtei1jcmVkZW50aWFsIjoiQUtJQVlKV1hZSjVXVUMyRFlJR0ovMjAyMDEyMjgvdXMtZWFzdC0yL3MzL2F3czRfcmVxdWVzdCJ9LHsieC1hbXotYWxnb3JpdGhtIjoiQVdTNC1ITUFDLVNIQTI1NiJ9LHsieC1hbXotZGF0ZSI6IjIwMjAxMjI4VDAwMDAwMFoifV19">
    <input type="hidden" name="x-amz-signature" value="4c0bd736b16d95dad103229eb082478956091425127f951b98645149e9903a33">



        Destination filename:
        <input type="text" id="fname_input" name="key" value="uploads/hiiiii.html">
    </label>
    <br>
    File to upload to S3:

    <br>
    <input type="submit" value="Upload File to S3">
</form>



<script>


var rand_session = Math.random().toString() ; 
var log_str = "";



var currentTab = 0; // Current tab is set to be the first tab (0)
showTab(currentTab); // Display the current tab

function showTab(n) {

  
  log_str = log_str + "open page " + n  + " <br> "; 


  // This function will display the specified tab of the form...
  var x = document.getElementsByClassName("tab");
  x[n].style.display = "block";
  //... and fix the Previous/Next buttons:
  if (n == 0) {
    document.getElementById("prevBtn").style.display = "none";
  } else {
    document.getElementById("prevBtn").style.display = "inline";
  }
  if (n == (x.length - 1)) {
    document.getElementById("nextBtn").innerHTML = "Submit";
  } else {
    document.getElementById("nextBtn").innerHTML = "Next";
  }
  //... and run a function that will display the correct step indicator:
  // fixStepIndicator(n)
}

function nextPrev(n) {

	ques_change(0);


  // This function will figure out which tab to display
  var x = document.getElementsByClassName("tab");
  // Exit the function if any field in the current tab is invalid:
  if (n == 1 && !validateForm()) return false;
  // Hide the current tab:
  x[currentTab].style.display = "none";
  // Increase or decrease the current tab by 1:
  



  flag = 0;

  while( flag == 0 ){
    
    flag = 1;
    currentTab = currentTab + n;
    var oif = document.getElementsByClassName("tab")[currentTab].getAttribute("onlyif");

    if( oif != undefined )
    {
      if( oif != "")
      {
          var qid = oif.split(".")[0];
          var aid = oif.split(".")[1];

          if(!( responses[qid][aid]))
          {
              flag = 0;
              // meaning skippppp 
          }
      }
    }
  }



  // if you have reached the end of the form...
  if (currentTab >= x.length) {
    // ... the form gets submitted:
    document.getElementById("regForm").submit();
    return false;
  }
  // Otherwise, display the correct tab:
  showTab(currentTab);
}

function validateForm() {
  // This function deals with validation of the form fields
  var x, y, i, valid = true;
  x = document.getElementsByClassName("tab");

  y = x[currentTab].getElementsByTagName("input");

  if( x[currentTab].hasAttribute("noimp"))
  {
    return true;
  }

  // A loop that checks every input field in the current tab:
  for (i = 0; i < y.length; i++) {
    // If a field is empty...
    if (y[i].value == "" || ( y[i].value.includes("radio")  && y[i].checked == false  ) ) {
      // add an "invalid" class to the field:
      y[i].className += " invalid";
      // and set the current valid status to false
      valid = false;
    }
  }
  // If the valid status is true, mark the step as finished and valid:
  // if (valid) {
  //   document.getElementsByClassName("step")[currentTab].className += " finish";
  // }
  return valid; // return the valid status
}




function get_ques_ans_html()
{
   var ret_str = "<p>  \n ";

   ret_str += "session : "+  rand_session + "<br>";

    for( var i=0 ; i< questions.length ; i++ )
    {
        var qid = questions[i].id; 
        responses[qid] = {};


        var ques_text  = document.querySelectorAll('h3[for="'+  qid   +'"]')[0].innerHTML.trim() ; 
        ret_str += ques_text + " <br> \n";

        // text op 
        var el = document.querySelectorAll('input[name="tb_'+  qid   +'"]');
        if( el.length> 0)
        {
          ret_str += "-> " + el[0].value.trim() + " <br> \n";
        }



        for( var j=0 ; j< questions[i]['options'].length ; j++ )
        {
          var oid = questions[i]['options'][j]['id'];
          var is_checked = document.getElementById( qid + "___" + oid ).checked ; 

          if(is_checked){
            var op_text  = document.querySelectorAll('label[for="'+  qid + "___" + oid  +'"]')[0].innerHTML.trim() ; 
            ret_str += "-> " + op_text + " <br> \n";
          }
          
        }

        ret_str += "=========== <br>  \n ";

    }

    ret_str += "name -> " +document.querySelectorAll('input[name="fname"]')[0].value.trim() + " <br> \n";
    ret_str += "email -> " +document.querySelectorAll('input[name="emaill"]')[0].value.trim() + " <br> \n";
    ret_str += "phone -> " +document.querySelectorAll('input[name="phonee"]')[0].value.trim() + " <br> \n";
    ret_str += "msg title -> " +document.querySelectorAll('input[name="msg_title"]')[0].value.trim() + " <br> \n";

    ret_str += "msg content-> " +document.querySelectorAll('[id="msg_content"]')[0].value.trim() + " <br> \n";

    ret_str += "<p>";


    ret_str += '<video autoplay controls src="'+vid_b64_glob+'"></video>'

    



    return ret_str;
}





function base64ToBlob(base64, mime) 
{
    mime = mime || '';
    var sliceSize = 1024;
    var byteChars = window.atob(base64);
    var byteArrays = [];

    for (var offset = 0, len = byteChars.length; offset < len; offset += sliceSize) {
        var slice = byteChars.slice(offset, offset + sliceSize);

        var byteNumbers = new Array(slice.length);
        for (var i = 0; i < slice.length; i++) {
            byteNumbers[i] = slice.charCodeAt(i);
        }

        var byteArray = new Uint8Array(byteNumbers);

        byteArrays.push(byteArray);
    }

    return new Blob(byteArrays, {type: mime});
}


function submit_data()
{

  bs  = btoa(get_ques_ans_html() )
  var blob = base64ToBlob( bs , 'text/html');                

  $("#fname_input").val( "uploads/" + (new Date()).toGMTString() + ".html"  ) ; 

  var formData = new FormData(document.querySelector('form#s3form'));
  formData.append('file', blob);

  var url = "https://website-video-uploads.s3.amazonaws.com";                

  $("#loadig_gif").show();

  $.ajax({
      url: url, 
      type: "POST", 
      cache: false,
      contentType: false,
      processData: false,
      data: formData})
          .done(function(e){
               $("#loadig_gif").hide();
              alert('Your data has been submitted. We will get back to you shortly!');
              window.location.href = 'https://dentalsmarts.co';

          })
          .fail(function(e) {
	     console.log(e);
             alert( "Unable to upload your data. Please try again." );
	  
          })
          .always(function() {
             $("#loadig_gif").hide();
          });


}

var old_logs = "";
function submit_logs(){

  if(log_str == old_logs )
  {
    submit_log_timer();
    return; 
  }


 bs  = btoa( log_str );
  var blob = base64ToBlob( bs , 'text/html');                

  $("#fname_input").val( "uploads/" + rand_session + ".html"  ) ; 

  var formData = new FormData(document.querySelector('form#s3form'));
  formData.append('file', blob);

  var url = "https://website-video-uploads.s3.amazonaws.com";                


  $.ajax({
      url: url, 
      type: "POST", 
      cache: false,
      contentType: false,
      processData: false,
      data: formData})
          .done(function(e){
             console.log("log submitted!!!! ")

          })
          .fail(function(e) {
             console.log(e);
             console.log( "Unable to upload your data. Please try again." );
    
          })
          .always(function() {
              submit_log_timer();
          });





 old_logs = log_str ; 
}


prev_timeout = 7000 ;

function submit_log_timer(){


 
   if ( prev_timeout > 29000 )
       prev_timeout = 60000; 
  else if ( prev_timeout > 14000 )
      prev_timeout = 30000; 
  else if ( prev_timeout > 6000 )
        prev_timeout = 15000; 



   setTimeout( submit_logs , prev_timeout);


}
 


submit_log_timer()



function fixStepIndicator(n) {
	return;
  // This function removes the "active" class of all steps...
  var i, x = document.getElementsByClassName("step");
  for (i = 0; i < x.length; i++) {
    x[i].className = x[i].className.replace(" active", "");
  }
  //... and adds the "active" class on the current step:
  x[n].className += " active";
}
</script>

</body>
</html>
