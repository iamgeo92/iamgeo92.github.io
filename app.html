<!DOCTYPE html>
<html>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet">



<!-- todo https://stackoverflow.com/questions/29285056/get-video-duration-when-input-a-video-file -->

<style>
* {
  box-sizing: border-box;
}

body {
  background-color: #f1f1f1;
}

#regForm {
  background-color: #ffffff;
  margin: 20px auto;
  font-family: Raleway;
  padding: 40px;
  width: 97%;
  max-width: 700px;
}

h1 {
  text-align: center;  
}

input {
  padding: 10px;
  width: 100%;
  font-size: 17px;
  font-family: Raleway;
  border: 1px solid #aaaaaa;
}

/* Mark input boxes that gets an error on validation: */
input.invalid {
  background-color: #ffdddd;
}


textarea {
  padding: 10px;
  width: 100%;
  font-size: 17px;
  font-family: Raleway;
  border: 1px solid #aaaaaa;
}

/* Mark input boxes that gets an error on validation: */
textarea.invalid {
  background-color: #ffdddd;
}


.record_button::-webkit-file-upload-button {
  visibility: hidden;
}
.record_button::before {
  content: 'Click to Record';
  display: inline-block;

  background-color: #4CAF50;
  color: #ffffff;
  border: none;
  padding: 10px 80px;
  font-size: 17px;
  font-family: Raleway;
  cursor: pointer;

  outline: none;
  white-space: nowrap;
  -webkit-user-select: none;
  cursor: pointer;



  }


/* Hide all steps by default: */
.tab {
  display: none;
}

button {
  background-color: #4CAF50;
  color: #ffffff;
  border: none;
  padding: 10px 20px;
  font-size: 17px;
  font-family: Raleway;
  cursor: pointer;
}

button:hover {
  opacity: 0.8;
}

#prevBtn {
  background-color: #bbbbbb;
}

/* Make circles that indicate the steps of the form: */
.step {
  height: 15px;
  width: 15px;
  margin: 0 2px;
  background-color: #bbbbbb;
  border: none;  
  border-radius: 50%;
  display: inline-block;
  opacity: 0.5;
}

.step.active {
  opacity: 1;
}

/* Mark the steps that are finished and valid: */
.step.finish {
  background-color: #4CAF50;
}




/*the css for the fance check boxxxx*/


.inputGroup {
   background-color: #fff;
   display: block;
   margin: 10px 0;
   position: relative;
}
 .inputGroup label {
   padding: 12px 30px;
   width: 100%;
   display: block;
   text-align: left;
   color: #3c454c;
   cursor: pointer;
   position: relative;
   z-index: 2;
   transition: color 200ms ease-in;
   overflow: hidden;
}
 .inputGroup label:before {
   width: 20px;
   height: 10px;
   border-radius: 50%;
   content: '';
   background-color: #4CAF50;
   position: absolute;
   left: 50%;
   top: 50%;
   transform: translate(-50%, -50%) scale3d(1, 1, 1);
   transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1);
   opacity: 0;
   z-index: -1;
}
 .inputGroup label:after {
   width: 22px;
   height:22px;
   content: '';
   border: 2px solid #d1d7dc;
   background-color: #fff;
   background-image: url("data:image/svg+xml,%3Csvg width='32' height='32' viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M5.414 11L4 12.414l5.414 5.414L20.828 6.414 19.414 5l-10 10z' fill='%23fff' fill-rule='nonzero'/%3E%3C/svg%3E ");
   background-repeat: no-repeat;
   background-position: 2px 3px;
   border-radius: 50%;
   z-index: 2;
   position: absolute;
   right: 30px;
   top: 50%;
   transform: translateY(-50%);
   cursor: pointer;
   transition: all 200ms ease-in;
}
 .inputGroup input:checked ~ label {
   color: #fff;
}
 .inputGroup input:checked ~ label:before {
   transform: translate(-50%, -50%) scale3d(56, 56, 1);
   opacity: 1;
}
 .inputGroup input:checked ~ label:after {
   background-color: #4CAF50;
   border-color: #4CAF50;
}
 .inputGroup input {
   width: 32px;
   height: 32px;
   order: 1;
   z-index: 2;
   position: absolute;
   right: 30px;
   top: 50%;
   transform: translateY(-50%);
   cursor: pointer;
   visibility: hidden;
}
 .form {
   padding: 0 16px;
   max-width: 550px;
   margin: 50px auto;
   font-size: 18px;
   font-weight: 600;
   line-height: 36px;
}
 













</style>
<body>



<script type="text/javascript">
  
  var isMobile = false; //initiate as false
// device detection
if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent) 
    || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4))) { 
    isMobile = true;
}


if(isMobile){

}
else{
  // alert("Please open this webapp on a mobile device. ");
  // window.location.href = "https://dentalsmarts.co";

}




data = {questions : [

  {
    "question" : "Sample question 1 " ,
    "id" : "ques1" ,
    "onlyif" : "" , 
    "options" : [
      { "id": "op_1" , "text": "Option 1 "  } , 
      { "id": "op_2" , "text": "Option 2 "  } , 
      { "id": "op_3" , "text": "Option 3 "  } ,
    ]
  } , 



  {
    "question" : "Sample question 2 " ,
    "id" : "ques2" ,
    "onlyif" : "ques1.op_2" , 
    "options" : [
      { "id": "op_1" , "text": "Option 222 1 "  } , 
      { "id": "op_2" , "text": "Option 22 2 "  } , 
      { "id": "op_3" , "text": "Option  333 3 "  } ,
    ]
  } , 

]}



responses = { } ;





function ques_change( id )
{
   questions  = data.questions ;

    for( var i=0 ; i< questions.length ; i++ )
    {
        var qid = questions[i].id; 
        responses[qid] = {};

        for( var j=0 ; j< questions[i]['options'].length ; j++ )
        {
          var oid = questions[i]['options'][j]['id'];
          // alert(qid + "___" + oid );
          responses[qid][oid] = document.getElementById( qid + "___" + oid ).checked ;
        }

    }


}


</script>


<form id="regForm" action="/">
 

      <!-- One "tab" for each step in the form: -->
  <div class="tab">


    <h1>About the app</h1>


    some content regarding how to use the app will come here

  </div>



  










  <div class="tab">

    <h1>Terms of Service</h1>


   <label for="male">I accept</label><input type="radio" id="radio_accept"  oninput="this.className = ''"  name="do_accept" value="radio_accept">

  </div>
  <div class="tab">

    <h1>Record Video</h1>

      <input id="video_inp" class="record_button"  oninput="this.className = ''"  name="video" type="file" accept="video/*" capture>
      <br>


      <script type="text/javascript">
        

        document.getElementById('video_inp').onchange = setFileInfo;

        function setFileInfo(){
          if( document.getElementById('video_inp').files[0].size > 25700240 )
          {
              alert( "Video too large. Please ensure the video is less than 30 seconds.");
              document.getElementById('video_inp').value = '';
          }
          else{
            // alert("all good");
          }

        }




      </script>

  </div>






<!-- quesgtion begin -->

  <div class="tab" onlyif="" >


  <h1>Answer a Few Questions</h1>

    <div style="  background-color: #efecec; padding: 20px; margin-bottom: 30px; ">

      <h3>Sample question 1 </h3>

       <br>  


      <div class="inputGroup">
          <input oninput='ques_change(this.id)' id="ques1___op_1" name="ques1___op_1" type="checkbox"/>
          <label for="ques1___op_1">Option 1 </label>
        </div>
      <div class="inputGroup">
          <input oninput='ques_change(this.id)' id="ques1___op_2" name="ques1___op_2" type="checkbox"/>
          <label for="ques1___op_2">Option 2 </label>
        </div>
      <div class="inputGroup">
          <input oninput='ques_change(this.id)' id="ques1___op_3" name="ques1___op_3" type="checkbox"/>
          <label for="ques1___op_3">Option 3 </label>
        </div>
        
       
      <br>  <br>  

    </div>

</div>


<div class="tab" onlyif="ques1.op_2" >


  <h1>Answer a Few Questions</h1>

    <div style="  background-color: #efecec; padding: 20px; margin-bottom: 30px; ">

      <h3>Sample question 2 </h3>

       <br>  


      <div class="inputGroup">
          <input oninput='ques_change(this.id)' id="ques2___op_1" name="ques2___op_1" type="checkbox"/>
          <label for="ques2___op_1">Option 222 1 </label>
        </div>
      <div class="inputGroup">
          <input oninput='ques_change(this.id)' id="ques2___op_2" name="ques2___op_2" type="checkbox"/>
          <label for="ques2___op_2">Option 22 2 </label>
        </div>
      <div class="inputGroup">
          <input oninput='ques_change(this.id)' id="ques2___op_3" name="ques2___op_3" type="checkbox"/>
          <label for="ques2___op_3">Option  333 3 </label>
        </div>
        
       
      <br>  <br>  

    </div>

</div>


<!-- quesgtion end -->




  <div class="tab">

    <h1>Additional Information</h1>

    Put in any other queries / problems you are facing. 
    <p><input placeholder="Title" oninput="this.className = ''" name="title"></p>

    <textarea   name="message" rows="10" placeholder="Your Message"></textarea>
    


  </div>








    <!-- One "tab" for each step in the form: -->
  <div class="tab">


    <h1>Enter your details</h1>


    Name:

     


    <p><input placeholder="First name" oninput="this.className = ''" name="fname"></p>

    Email:
    <p><input placeholder="Email" oninput="this.className = ''" name="lname"></p>
  </div>






  <div style="overflow:auto;">
    <div style="float:right;">
      <button type="button" id="prevBtn" onclick="nextPrev(-1)">Previous</button>
      <button type="button" id="nextBtn" onclick="nextPrev(1)">Next</button>
    </div>
  </div>
  <!-- Circles which indicates the steps of the form: -->
  <div style="text-align:center;margin-top:40px;">
    <span class="step"></span>
    <span class="step"></span>
    <span class="step"></span>
    <span class="step"></span>
    <span class="step"></span>
    <span class="step"></span>
     <span class="step"></span>


  </div>
</form>

<script>
var currentTab = 0; // Current tab is set to be the first tab (0)
showTab(currentTab); // Display the current tab

function showTab(n) {
  // This function will display the specified tab of the form...
  var x = document.getElementsByClassName("tab");
  x[n].style.display = "block";
  //... and fix the Previous/Next buttons:
  if (n == 0) {
    document.getElementById("prevBtn").style.display = "none";
  } else {
    document.getElementById("prevBtn").style.display = "inline";
  }
  if (n == (x.length - 1)) {
    document.getElementById("nextBtn").innerHTML = "Submit";
  } else {
    document.getElementById("nextBtn").innerHTML = "Next";
  }
  //... and run a function that will display the correct step indicator:
  fixStepIndicator(n)
}

function nextPrev(n) {
  // This function will figure out which tab to display
  var x = document.getElementsByClassName("tab");
  // Exit the function if any field in the current tab is invalid:
  if (n == 1 && !validateForm()) return false;
  // Hide the current tab:
  x[currentTab].style.display = "none";
  // Increase or decrease the current tab by 1:
  currentTab = currentTab + n;


  // var oif = document.getElementsByClassName("tab")[currentTab].getAttribute("onlyif");
  // if ( oif != undefined ){
  //   if( oif != "")
  //   {
  //       var qid = oif.split(".")[0];
  //       var qaid = oif.split(".")[1];
  //   }
  // }



  // if you have reached the end of the form...
  if (currentTab >= x.length) {
    // ... the form gets submitted:
    document.getElementById("regForm").submit();
    return false;
  }
  // Otherwise, display the correct tab:
  showTab(currentTab);
}

function validateForm() {
  // This function deals with validation of the form fields
  var x, y, i, valid = true;
  x = document.getElementsByClassName("tab");
  y = x[currentTab].getElementsByTagName("input");
  // A loop that checks every input field in the current tab:
  for (i = 0; i < y.length; i++) {
    // If a field is empty...
    if (y[i].value == "" || ( y[i].value.includes("radio")  && y[i].checked == false  ) ) {
      // add an "invalid" class to the field:
      y[i].className += " invalid";
      // and set the current valid status to false
      valid = false;
    }
  }
  // If the valid status is true, mark the step as finished and valid:
  if (valid) {
    document.getElementsByClassName("step")[currentTab].className += " finish";
  }
  return valid; // return the valid status
}

function fixStepIndicator(n) {
  // This function removes the "active" class of all steps...
  var i, x = document.getElementsByClassName("step");
  for (i = 0; i < x.length; i++) {
    x[i].className = x[i].className.replace(" active", "");
  }
  //... and adds the "active" class on the current step:
  x[n].className += " active";
}
</script>

</body>
</html>
